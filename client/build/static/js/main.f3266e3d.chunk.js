(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(31),o=n.n(c),u=n(7),i=n(8),s=n(10),l=n(9),p=n(11),b=n(104),d=n(105),h=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Welcome")}}]),t}(a.Component),f=n(12),E=n(6);function m(){var e=Object(f.a)(["\n  width: 50px;\n"]);return m=function(){return e},e}function v(){var e=Object(f.a)(["\n  width: 346px;\n\n  &:focus {\n\t\toutline: none;\n\t}\n"]);return v=function(){return e},e}function k(){var e=Object(f.a)(["\n  height: 200px;\n  width: 400px;\n  border-top-left-radius: 8px;\n  background: rgb(102, 153, 153, 0.5);\n  word-wrap: break-word;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column-reverse;\n"]);return k=function(){return e},e}function j(){var e=Object(f.a)(["\n  margin: 10px;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n"]);return j=function(){return e},e}var g=E.b.div(j()),O=E.b.div(k()),y=E.b.input(v()),S=E.b.button(m()),L=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){n.setState({message:e.target.value})},n.handleUserName=function(e){n.setState({user:e.target.value})},n.handleChangeUser=function(){var e=n.state.user;""!==e&&n.setState({user:e})},n.handleSubmit=function(e){var t=n.props.socket,a=n.state.message;""!==a&&(e.preventDefault(),t.emit("client message",a),n.setState({message:""}))},n.handleKeyPress=function(e){var t=n.props.socket;""!==n.state.message&&"Enter"===e.key&&(e.preventDefault(),t.emit("client message",n.state.user+": "+n.state.message),n.setState({message:""}))},n.makeChat=function(){return r.a.createElement("div",null,n.state.chatBoxContent.map(function(e){return r.a.createElement("div",{key:e}," \xa0",e," ")}))},n.state={message:"",chatBoxContent:[],user:"anon"},n.props.socket.on("chat message",function(e){var t=n.state.chatBoxContent;t.push(e),n.setState({chatBoxContent:t})}),n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Change UserName:"),r.a.createElement("input",{type:"text",onChange:this.handleUserName}),r.a.createElement("input",{type:"submit",onClick:this.handleChangeUser}),r.a.createElement(g,null,r.a.createElement(O,null,this.makeChat()),r.a.createElement(y,{type:"text",value:this.state.message,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement(S,{onClick:this.handleSubmit},"Send")))}}]),t}(a.Component),C=n(23),x=n(14);function _(){var e=Object(f.a)(["\n\twidth: 200px;\n\theight: 100px;\n\tbackground: #00ccff;\n\tbox-shadow: none;\n\tborder: none;\n\n\t&:hover {\n\t\tbackground: #4ddbff;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t\tbackground: #00a3cc;\n\t}\n"]);return _=function(){return e},e}function A(){var e=Object(f.a)(["\n\twidth: 100px;\n\theight: 100px;\n\tbackground: #00ccff;\n\tbox-shadow: none;\n\tborder: none;\n\n\t&:hover {\n\t\tbackground: #4ddbff;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t\tbackground: #00a3cc;\n\t}\n"]);return A=function(){return e},e}var w=E.b.button(A()),K=(E.b.button(_()),{SELECT_TILE:"SELECT_TILE",GET_LAKES:"GET_LAKES",GET_LAKES_SUCCESS:"GET_LAKES_SUCCESS",GET_LAKES_FAILURE:"GET_LAKES_FAILURE",NEW_LAKE:"NEW_LAKE",NEW_LAKE_SUCCESS:"NEW_LAKE_SUCCESS",NEW_LAKE_FAILURE:"NEW_LAKE_FAILURE"}),U=function(){return{type:K.GET_LAKES,payload:null}},T=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).handleFocus=function(){n.setState({display:n.state.count,firstFlag:!0})},n.handleBlur=function(){n.setState({display:"><>"})},n.handleClick=function(){!0===n.state.firstFlag?n.setState({display:n.state.count,firstFlag:!1}):n.setState({count:++n.state.count,display:n.state.count})},n.getLakeName=function(){if(n.props.lakes.length)return n.props.lakes[0].lake_name},n.state={count:0},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({display:"><>",firstFlag:!1}),this.props.getLakes()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,this.getLakeName()),r.a.createElement(w,{onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.state.display))}}]),t}(a.Component);var F=Object(C.b)(function(e){return{lakes:e.LakesReducer.lakes}},function(e){return Object(x.b)({getLakes:U},e)})(T),N=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement(L,{socket:this.props.socket}))}}]),t}(a.Component);function G(){var e=Object(f.a)(["\n  margin-right: 10px;\n  margin-left: 10px;\n  border: 1px solid #000;\n"]);return G=function(){return e},e}var W=E.b.div(G()),I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).listLakes=function(){var e=n.props.lakes;return r.a.createElement("div",null,e.map(function(e){return r.a.createElement(W,{key:e.id},e.lake_name)}))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.listLakes())}}]),t}(a.Component),R=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({}),this.props.getLakes()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,{lakes:this.props.lakes}))}}]),t}(a.Component);var B=Object(C.b)(function(e){return{lakes:e.LakesReducer.lakes}},function(e){return Object(x.b)({getLakes:U},e)})(R);function D(){var e=Object(f.a)(["\n  float: right;\n"]);return D=function(){return e},e}function P(){var e=Object(f.a)(["\n  display: block;\n  color: white;\n  text-align: center;\n  padding: 14px 16px;\n  text-decoration: none;\n\n  &:hover {\n    background-color: #111;\n  }\n"]);return P=function(){return e},e}function J(){var e=Object(f.a)(["\n    background-color: #4CAF50;\n  "]);return J=function(){return e},e}function M(){var e=Object(f.a)(["\n  border-right: 1px solid #bbb;\n  float: left;\n\n  ",";\n\n  &:last-child {\n    border-right: none;\n  }\n"]);return M=function(){return e},e}function H(){var e=Object(f.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  background-color: #333;\n"]);return H=function(){return e},e}var q=E.b.ul(H()),z=E.b.li(M(),function(e){return e.active&&Object(E.a)(J())}),Q=E.b.a(P()),V=E.b.li(D()),X=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q,null,r.a.createElement(z,null,r.a.createElement(Q,{href:"/"},"Home")),r.a.createElement(z,null,r.a.createElement(Q,{href:"/lake"},"Lake")),r.a.createElement(z,null,r.a.createElement(Q,{href:"/admin"},"Admin")),r.a.createElement(V,null,r.a.createElement(Q,{href:"/login"},"Login"))))}}]),t}(a.Component),Y=(n(69),function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(b.a,null,r.a.createElement("div",null,r.a.createElement(d.a,{exact:!0,path:"/",component:h}),r.a.createElement(d.a,{path:"/lake",render:function(t){return r.a.createElement(N,{socket:e.props.socket})}}),r.a.createElement(d.a,{path:"/admin",component:B}))))}}]),t}(a.Component)),Z=n(59),$={lakes:[],currentLake:""};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.GET_LAKES_SUCCESS:return Object.assign({},e,{lakes:t.payload});case K.GET_LAKES_FAILURE:return console.log("Failed to get lakes: ",t.payload),e;case K.NEW_LAKE_SUCCESS:return Object.assign({},e,{currentLake:t.payload});case K.NEW_LAKE_FAILURE:return console.log("Failed ",t.payload),e;default:return e}},te=Object(x.c)({LakesReducer:ee}),ne=n(19),ae=n.n(ne),re=n(15),ce=function(){return fetch("/api/lakes",{method:"GET",headers:{Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){return e})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fetch("/api/lakes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},ue=ae.a.mark(le),ie=ae.a.mark(pe),se=ae.a.mark(be);function le(e){var t;return ae.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.a)(ce,e.payload);case 3:return t=n.sent,n.next=6,Object(re.b)({type:K.GET_LAKES_SUCCESS,payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(re.b)({type:K.GET_LAKES_FAILURE,payload:n.t0.message});case 12:case"end":return n.stop()}},ue,this,[[0,8]])}function pe(e){var t,n;return ae.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t={lake_name:e.payload},a.next=4,Object(re.a)(oe,t);case 4:return n=a.sent,a.next=7,Object(re.b)({type:K.NEW_LAKE_SUCCESS,payload:n});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(re.b)({type:K.NEW_LAKE_FAILURE,payload:a.t0.message});case 13:case"end":return a.stop()}},ie,this,[[0,9]])}function be(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.c)(K.GET_LAKES,le);case 2:return e.next=4,Object(re.c)(K.NEW_LAKE,pe);case 4:case"end":return e.stop()}},se,this)}var de=be,he=n(58),fe=n.n(he),Ee=Object(Z.a)(),me=Object(x.d)(te,Object(x.a)(Ee)),ve=fe()("https://secure-bastion-35148.herokuapp.com/",{transport:["websocket"]});Ee.run(de),console.log(me.getState());me.subscribe(function(){return console.log(me.getState())});o.a.render(r.a.createElement(C.a,{store:me},r.a.createElement(Y,{socket:ve})),document.getElementById("root"))},61:function(e,t,n){e.exports=n(102)},69:function(e,t,n){},99:function(e,t){}},[[61,2,1]]]);
//# sourceMappingURL=main.f3266e3d.chunk.js.map